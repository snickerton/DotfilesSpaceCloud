// MagicActions for Google Chrome - CHROMEACTIONS.COM - Copyright (c) 2017 Vlad & Serge Strukoff. All Rights Reserved.
(function(){function l(){f.runtime.sendMessage(0);setTimeout(l,12E3)}function n(d){if(d.type==a){try{var b=JSON.parse(d.detail)}catch(q){return}var c=b.id;6===c?(k||(k=new p),k.capture()):7===c||8==c||11===c?f.runtime.sendMessage(d.detail):4===c?(c=b.name,-1<b.value&&("ui"===c&&2>b.value?f.runtime.sendMessage(d.detail):"cinc"===c&&40>b.value?f.runtime.sendMessage(d.detail):"cint"===c&&4>b.value&&f.runtime.sendMessage(d.detail))):2===c?"string"==typeof b.url&&(b=b.url,(0==b.indexOf("https://www.mycinema.pro/")||
5<b.indexOf("nrRA.html")||32==b.indexOf("UCCwIAJrwWGB"))&&f.runtime.sendMessage(d.detail)):31===c&&f.runtime.sendMessage(d.detail,function(c){m(a+"b",c)})}}function m(d,b){var c=document.createEvent("CustomEvent");c.initCustomEvent(d,!1,!1,b);window.dispatchEvent(c)}function p(){function d(c,b,d){a.w!=b&&(a.w=g.width=b,a.h=g.height=d);k.drawImage(c,0,0);h=k.getImageData(0,0,b,d).data;a.rgba&&window.URL.revokeObjectURL(a.rgba);a.rgba=window.URL.createObjectURL(new Blob([h],{type:"application/octet-stream"}));
f.runtime.sendMessage(a)}function b(){var a=document.querySelector('meta[property="og:image"');a&&a.content&&window.fetch(a.content,{method:"GET"}).then(function(a){return a.blob()}).then(function(a){c(a)})}function c(a){if(a){var c=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"})),b=new Image;b.onload=function(){window.URL.revokeObjectURL(c);d(b,b.width,b.height)};b.src=c}}var a={id:6},h;a.t=encodeURIComponent(document.title.slice(0,document.title.length-10));var e=document.body.querySelector('meta[itemprop="videoId"]');
a.vid=e?e.getAttribute("content"):"";e=document.getElementById("eow-reuse");a.lic=e?e.textContent:"";if(e=document.querySelector("video")){var g=document.createElement("canvas");var k=g.getContext("2d")}this.capture=function(){!e||4!=e.readyState&&3!=e.readyState?b():d(e,e.videoWidth,e.videoHeight)}}var k,a,f={};chrome.runtime.sendMessage(32);Object.defineProperty(window,"msg__",{get:function(){return null},set:function(d){if(a)m(a+"b",d);else{a=Math.random().toString(16).slice(2);var b=document.documentElement,
c=document.createElement("script");c.text='(function(){function Y(){window.ytplayer&&window.ytplayer.config&&window.ytplayer.config.args?(H=window.ytplayer,Z(window.ytplayer.config.args,!0)):setTimeout(Y,10)}function T(){K=0<window.location.search.indexOf("list=");L=d.pause?K?d.plist?1:0:0:1;aa||(aa=!0,document.addEventListener("yt-navigate-finish",U,!1),document.addEventListener("spfdone",U,!1))}function U(){var a="/watch"==window.location.pathname;K=0<window.location.search.indexOf("list=");L=d.pause?K?d.plist?1:0:0:1;M.pageLoaded(a);I||\n(I=new ba);I.optionsChanged();B.pageLoaded(a);N&&N.pageLoaded();ca();da(a);ea();fa();ga();d.a0&&d.a1&&ta()}function ua(a){a.addEventListener("mousedown",function(){G("'+
a+'",JSON.stringify({id:31,url:"https://www.mycinema.pro/menu.html"}))},!1)}function va(a){a.addEventListener("mousedown",function(){G("'+a+'",JSON.stringify({id:31,url:"https://www.mycinema.pro/options.html"}))},!1)}function ha(a){G("'+a+'",JSON.stringify({id:6}));ia&&a.preventDefault()}function ja(a){a.addEventListener("mousedown",\nfunction(){G("'+a+'",JSON.stringify({id:31,url:"https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html"}))},!1)}function ka(){document.cookie&&(d.wide&&(document.cookie="wide=1; max-age=22592000; path=/; domain=youtube.com"),d.ww?document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=22592000; path=/; domain=youtube.com":-1<document.cookie.indexOf("s_gl=1d69aac621b2f9c0")&&(document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=0; path=/; domain=youtube.com"))}\nfunction Z(a,b){a.store_user_volume=!0;d.ww&&(a.cr="US",a.hl="en_US",a.host_language="en");O=d.hq;J=d.hqi;O&&(a.suggestedQuality=a.vq=J,window.localStorage&&(window.localStorage["yt-player-quality"]=\'{"data":"\'+J+\'","expiration":9904916135997,"creation":1502324135997}\'));d.anns&&(a.iv_load_policy=3)}function V(a){a=a?"auto":J;window.localStorage&&(window.localStorage["yt-player-quality"]=\'{"data":"\'+a+\'","expiration":9904916135997,"creation":1502324135997}\');var b=F(1);b&&b.setPlaybackQuality(a)}\nfunction wa(){function a(){if(0>d.cini||2<d.cini)d.cini=1;if(0>d.cinc||39<d.cinc)d.cinc=0;if(0>d.cint||3<d.cint)d.cint=1;u=d.cini;c=d.cinc;P=d.cint}function b(){D||(document.addEventListener("click",m,!0),document.addEventListener("contextmenu",m,!0));D=!0}function w(a){D&&(document.removeEventListener("contextmenu",m,!0),document.removeEventListener("click",m,!0));D=!1}function m(a){var c=a.target;if(t)if(v)if(-1<c.className.indexOf("ytp-size-button")||-1<c.className.indexOf("html5-endscreen")){l();\nvar b=!0}else"contextmenu"==a.type&&"ma-cin-cvs"==c.id&&(n(),b=!0);else if("contextmenu"==a.type){if(c=c.localName,"video"==c||"canvas"==c)n(),b=!0}else{if(-1<c.className.indexOf("ytp-size-button")||-1<c.className.indexOf("html5-endscreen"))n(),b=!0}else if("page"==c.id||"ytd-watch"==c.localName){var d=F(!0);d&&(c=a.pageY-window.scrollY,d=d.getBoundingClientRect(),60<c&&c<d.bottom&&("contextmenu"==a.type?n():l(),b=!0))}b&&(a.stopPropagation(),a.preventDefault())}function h(){window.hasOwnProperty("Polymer")?\n(x="ma-exp-mat",z="ma-cin-mat"+u):(x="ma-exp-old",z="ma-cin-old"+u)}function p(){A();var a=document.documentElement.classList;v&&(a.remove(z),a.remove("ma-cin"));t&&(a.remove(x),a.remove("ma-exp"));v=t=!1}function n(){var a=document.documentElement.classList;h();v?(A(),a.remove(z),a.remove("ma-cin"),v=!1):t?(a.remove(x),a.remove("ma-exp"),t=!1):(a.add("ma-exp"),a.add(x),t=!0,f());window.dispatchEvent(new Event("resize"));window.scrollTo(0,0)}function l(){var a=document.documentElement.classList;h();\nv?(A(),a.remove(z),a.remove("ma-cin"),a.remove(x),a.remove("ma-exp"),v=t=!1):(t||(a.add("ma-exp"),a.add(x)),a.add("ma-cin"),a.add(z),v=t=!0,f(),q(),e());window.dispatchEvent(new Event("resize"));window.scrollTo(0,0);d.cinf&&(v&&document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function f(){var a=F(1);a&&(e_cinema=a.querySelector("#ma-cin"),e_cinema||(e_cinema=document.createElement("div"),\nE=document.createElement("canvas"),e_cinema.id="ma-cin",E.id="ma-cin-cvs",e_cinema.classList.add("ma-bg"+d.cinc),e_cinema.appendChild(E),e_cinema.addEventListener("click",function(a){a.stopPropagation();l()},!0)),a.insertBefore(e_cinema,a.lastElementChild));C=document.body.querySelector("#ma-cin-panel");if(!C){C=document.createElement("div");C.id="ma-cin-panel";var c,a=document.createElement("div");a.id="ma-cin-btns";C.appendChild(a);for(var b=0,r=4;b<r;b++){var g="a";0==b?c="https://www.mycinema.pro/cinema.html":\n1==b?c="https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html":g="div";g=document.createElement(g);g.className="ma-cin-btn";g.id="ma-cin-btn"+b;c&&(g.href=c,g.target="_blank");a.appendChild(g);1==b&&ja(g)}a=document.createElement("div");a.id="ma-cin-clrs";C.appendChild(a);c=\'Dark Gray;Velvet Sky;Deep Blue Sea;Blue Sky;Sea Wave;Deep Green;Ultraviolet;Dark Pink;Black and White;Black and Blue;Black and Green;Black and Yellow;Black and Red;Black and Violet;Black and Pink;Chromed;Ultrared;Blue Planet;Green;Coffee and Milk;"Light Gray;Light Blue Sky;Light Blue;Light Green;Light Yellow;Light Violet;Light Pink;White and Black;Light Sea Green;Navy Blue;Lime Green;Orange;Magenta;Red;Yellow;Indigo;Purple;Pink;White;Black\'.split(";");\nfor(var b=0,r=c.length,e=1;b<r;b++,e++)g=document.createElement("div"),g.title=c[b],g.className="ma-cin-clr",g.id="ma-cin-clr"+b,a.appendChild(g),4<e&&(e=0,a.appendChild(document.createElement("br")));c=["Static","Color","Invert","Tint"];b=0;for(r=c.length;b<r;b++)g=document.createElement("div"),g.textContent=c[b],g.className="ma-cin-type",g.id="ma-cin-type"+b,a.appendChild(g);C.addEventListener("click",k,!0)}document.body.appendChild(C)}function k(a){a.stopPropagation();var c=a.target.id||"";if(c)if(0==\nc.indexOf("ma-cin-clr")){c=c.slice(10);c=parseInt(c)||0;if(0>c||39<c)c=0;G("'+
a+'",JSON.stringify({id:4,name:"cinc",value:c}))}else if(0==c.indexOf("ma-cin-type")){c=c.slice(11);c=parseInt(c)||0;if(0>c||3<c)c=0;G("'+a+'",JSON.stringify({id:4,name:"cint",value:c}))}else if(0==c.indexOf("ma-cin-btn")){c=c.slice(10);c=parseInt(c)||0;if(0>c||3<c)c=0;if(1==c)ha(a);else if(2==c||3==c)C.hasAttribute("on")?C.removeAttribute("on"):C.setAttribute("on","")}}function e(){var a;e_cinema.parentElement.querySelector("video")&&\n(E.classList.remove("ma-type"+r),(a=C.querySelector(".ma-cin-type-sel"))&&a.classList.remove("ma-cin-type-sel"),E.classList.add("ma-type"+P),(a=C.querySelector("#ma-cin-type"+P))&&a.classList.add("ma-cin-type-sel"),A(),0<P&&g(),r=P)}function q(){var a=e_cinema.parentElement.querySelector("video"),b;a&&(a.classList.remove("ma-sh"+W),e_cinema.classList.remove("ma-bg"+W),(b=C.querySelector(".ma-cin-clr-sel"))&&b.classList.remove("ma-cin-clr-sel"),e_cinema.classList.add("ma-bg"+c),a.classList.add("ma-sh"+\nc),(b=C.querySelector("#ma-cin-clr"+c))&&b.classList.add("ma-cin-clr-sel"),W=c)}function A(){S&&(clearInterval(S),S=0,E.getContext("2d").clearRect(0,0,E.width,E.height))}function g(){function a(){c.paused||(b!=c.videoWidth&&(b=c.videoWidth,d=c.videoHeight,E.width=g=window.innerWidth,E.height=r=E.offsetHeight),k.drawImage(c,0,0,b,d,0,0,g,r));S=setTimeout(a,80)}var c=e_cinema.parentElement.querySelector("video"),b,d,g,r,k=E.getContext("2d");c&&a()}var D,t,v,x,z,u,y,P,r,c,W,E,C,S;this.expandVideo=n;\nthis.cinemaVideo=l;this.getState=function(){return t?v?1:2:0};this.pageLoaded=function(c){a();d.cin&&c?b():w();d.cin&&c?d.cina&&(v||l()):p()};this.optionsChanged=function(c){a();d.cin&&c?b():w();d.cin&&c?v&&(c=document.documentElement.classList,void 0!=y&&c.remove(z),h(),c.add(z),y=u,q(),e()):p()};a()}function ba(){function a(a,d,c){a?t||(document.addEventListener("wheel",p,!0),t=!0):t&&(document.removeEventListener("wheel",p,!0),t=!1);d?v||(document.addEventListener("touchstart",m,!0),document.addEventListener("touchmove",\nh,!0),v=!0):v&&(document.removeEventListener("touchmove",h,!0),document.removeEventListener("touchstart",m,!0),v=!1);c?x||(document.addEventListener("mousemove",b,!0),document.addEventListener("contextmenu",w,!0),x=!0):x&&(document.removeEventListener("contextmenu",w,!0),document.removeEventListener("mousemove",b,!0),x=!1)}function b(a){if((3==a.which||2==a.buttons)&&0!=a.movementX){var b=a.target;if("video"==b.localName)var c=b;else if("ma-volume"==b.id||"canvas"==b.localName&&-1<b.parentElement.className.indexOf("webgl"))c=\ndocument.querySelector(".html5-main-video");c&&(z=!0,n(c,a.movementX),a.preventDefault(),a.stopPropagation())}}function w(a){z&&(z=!1,a.preventDefault(),a.stopPropagation())}function m(a){u=a.targetTouches[0].pageX-window.scrollX}function h(a){var b=a.targetTouches[0].pageX-window.scrollX,c=a.targetTouches[0].pageY-window.scrollY,d=document.body.querySelectorAll("video"),g=b-u;if(-43>g||43<g)for(var k=0,e=d.length;k<e;k++){var p=d[k];var t=p.getBoundingClientRect();if(c>t.top&&c<t.bottom&&b>t.left&&\nb<t.right){n(p,g);u=b;a.preventDefault();a.stopPropagation();break}}}function p(a){var b=a.target;if("video"==b.localName)var c=b;else if("ma-volume"==b.id||"canvas"==b.localName&&-1<b.parentElement.className.indexOf("webgl"))c=document.querySelector(".html5-main-video");c&&(n(c,a.wheelDelta=a.wheelDelta||-1*a.deltaY),a.preventDefault(),a.stopPropagation())}function n(a,b){var c=a.parentElement&&a.parentElement.parentElement||0;if(c&&c.setVolume){var d=c.getVolume();d=0>b?d-A:d+A;100<d?d=100:0>d&&\n(d=0);c.setVolume(d);if(0<g){var r=d;f.parentElement||document.body.appendChild(f);var t=la(a),p=document.documentElement.classList.contains("ma-cin")?t[0]-a.offsetWidth/2:t[0],t=t[1];1==g||3==g?(f.style.setProperty("left",p+20+"px","important"),f.style.setProperty("top",t+D+"px","important")):(f.style.setProperty("left",p+a.offsetWidth/2-118+"px","important"),f.style.setProperty("top",t+a.offsetHeight-120+"px","important"));y&&(f&&f.style.setProperty("display","block","important"),y=!1);1==g?(k.clearRect(0,\n0,90,48),k.fillText(r,0,21)):2==g?(k.fillStyle="rgb(0,0,0)",k.fillRect(0,0,236,20),k.rect(0,0,236,20),k.stroke(),k.fillStyle=q,k.fillRect(0,0,2*r,20),k.fillText(r,218,10)):3==g&&(k.clearRect(0,0,90,90),k.beginPath(),k.arc(45,45,40,2.0944,2.0944+.0523599*r,!1),k.stroke(),k.fillText(r,45,43));e&&clearTimeout(e);e=setTimeout(l,700)}c=c.isMuted();"localStorage"in window&&(r=+new Date,window.localStorage["yt-player-volume"]=\'{"data":"{\\\\"volume\\\\":\'+d+\',\\\\"muted\\\\":\'+c+\'}","expiration":\'+(r+1E10)+\',"creation":\'+\nr+"}")}}function l(){f&&f.style.setProperty("display","none","important");y=!0}var f,k,e,q,A,g,D,t,v,x,z,u,y;this.optionsChanged=function(){d.mwvc?(g=d.mwvci,A=d.gap,q=d.color,f||(f=document.createElement("canvas"),f.id="ma-volume",k=f.getContext("2d")),1==g?(f.width=90,f.height=48,k.font="48px Segoe UI, Helvetica, Arial, sans-serif",k.textAlign="left",D=17):2==g?(f.width=236,f.height=20,k.font="700 14px Segoe UI, Helvetica, Arial, sans-serif",k.textAlign="center",k.lineWidth=1,k.setLineDash([])):\n(f.width=90,f.height=90,k.font="600 30px Segoe UI, Helvetica, Arial, sans-serif",k.textAlign="center",D=17,k.lineWidth=7,k.setLineDash([5,1])),k.textBaseline="middle",k.strokeStyle=k.fillStyle=q,k.shadowColor="#000",k.shadowBlur=5,l(),a(d.mwvcm,d.mwvct,d.mwvcr)):a()}}function G(a,b){var d=new CustomEvent(a,{detail:b,cancelable:!1,canBubble:!1});xa.call(window,d)}function ma(){var a=document.documentElement.classList;d.a0&&d.a4&&d.ui?(a.remove("m0"),a.add("m1")):(a.remove("m1"),a.add("m0"))}function ca(){var a=\ndocument.getElementById("ma-theme-switch");d.a0&&d.a4?a||(a=document.createElement("div"),a.id="ma-theme-switch",document.body.appendChild(a),a.addEventListener("click",ya,!0)):a&&document.body.removeChild(a)}function ya(a){G("'+
a+'",JSON.stringify({id:4,name:"ui",value:d.ui?0:1}));a.stopPropagation();a.preventDefault()}function za(){document.getElementById("magicSVG")||na("GET",X+"i/g.svg",null,null,"document",function(a){a&&(a.documentElement.id="magicSVG",document.body.appendChild(a.documentElement))})}\nfunction Aa(){function a(r){if(r){var c=document.body.querySelector("#watch7-content,ytd-video-primary-info-renderer");if(c)if(x=d.loop,z=!1,q)c.insertBefore(q,c.firstElementChild),m(!x),k("b6",x),(v=F(1))&&n();else{var e=Math.floor(7*Math.random()),f=document.createElement("meta");c.insertBefore(f,c.firstElementChild);for(r=0;r<e;r++)c.insertBefore(document.createElement("meta"),c.firstElementChild);q=document.createElement("div");c.insertBefore(q,f.nextElementSibling);r=q;if(c=oa){a:{if(navigator.appVersion&&\n(c=navigator.appVersion.indexOf("Chrome/"),-1<c)){c=parseInt(navigator.appVersion.slice(c+7));break a}c=0}c=53<c}A=c?oa.call(r,{mode:"closed"}):r;g=document.createElement("div");g.id="ma-panel";p();var c="Magic;Subscribe;Magic Options;Cinema;Expand;Repeat;Color Filters;Transform Filters;Capture;Speed Booster;Show/Hide video info".split(";"),e=[1,2,3,4,5,6,9,10,8,11,12];r=0;for(var l=e.length;r<l;r++){f=e[r];var h="a";if(1==f)var u="https://www.mycinema.pro/menu.html";else 2==f?u="https://www.youtube.com/channel/UCCwIAJrwWGB2GCyZSp41wNg?sub_confirmation=1":\n3==f?u="https://www.mycinema.pro/options.html":8==f?u="https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html":(u=null,h="div");h=document.createElement(h);u&&(h.href=u,h.target="_blank",h.setAttribute("referrerpolicy","unsafe-url"));h.id="b"+f;h.className="bt";h.title=c[r];g.appendChild(h);1==f?ua(h):3==f?va(h):8==f&&ja(h)}A.appendChild(Ba(X+"css/xhQX.css"));A.appendChild(g);g.addEventListener("click",w,!0);t=g.lastElementChild;(v=F(1))&&n();m(!x);k("b6",x);b()}else D=setTimeout(a,\n2E3,1)}else m(!0)}function b(){e("b4",d.cin);e("b5",d.cin);e("b9",d.f0);e("b10",d.f0);e("b11",d.buf)}function w(a){var c=parseInt(a.target.id.slice(1)||0);c&&(1==c?pa&&(G("'+
a+'",JSON.stringify({id:8,url:"https://www.mycinema.pro/menu.html"})),a.preventDefault()):3==c?qa&&(G("'+a+'",JSON.stringify({id:8,url:"https://www.mycinema.pro/options.html"})),a.preventDefault()):4==c?M.cinemaVideo():5==c?M.expandVideo():6==c?(x=!x,m(!x),k("b6",x)):8==c?ha(a):9==c?l():10==c?f():11==c?(N||(N=new Ca),N.toggle()):\n12==c&&(c=F(1))&&(z&&c.hasOwnProperty("hideVideoInfo")?(c.hideVideoInfo(),z=!1):c.hasOwnProperty("showVideoInfo")&&(c.showVideoInfo(),z=!0)));a.stopPropagation()}function m(a){var c=F();if(c){var b=a?B?"removeEventListener":0:B?0:"addEventListener";b&&(c[b]("timeupdate",h,!0),B=a?!1:!0)}else B=!1}function h(a){this.currentTime>this.duration-1&&v&&v.hasOwnProperty("seekTo")&&v.seekTo(0)}function p(){g&&(g.className=(d.a0&&d.a4?d.ui?"m1":"m0":"m0")+(window.hasOwnProperty("Polymer")?" mat":""))}function n(){if(v&&\nv.getVideoLoadedFraction){var a=v.getVideoLoadedFraction(),a=.99<a?100:parseInt(100*a);t.textContent=isNaN(a)?"":a+"%";100>a?D=setTimeout(n,3E3):d.buf&&d.buf1&&(new Audio(X+"i/notify.ogg")).play()}}function l(a){var c=document.querySelector(".webgl canvas")||F();c&&(rgFilterNames="Apply Color Filter;Detalization;High Contrast;S-High Contrast;Grayscale;Sepia;Red Magic;Invert".split(";"),c.classList.remove("ma-c-filter"+u),a?u=0:(u++,7<u&&(u=0)),c.classList.add("ma-c-filter"+u),k("b9",0<u,rgFilterNames[u]),\n1==u&&(za(),1==y&&c.classList.remove("ma-c-filter1")))}function f(a){var c=document.querySelector(".webgl canvas"),b=c||F();b.classList.remove("ma-t-filter"+y);a?y=0:(y++,4<y&&(y=0));b.classList.add("ma-t-filter"+y);k("b10",0<y,["Apply Magic Transform","Magic Vinyl","Magic Zoom","Horizontal-Flip","Vertical-Flip"][y]);1==y?c?c.style.display="none":1==u&&b.classList.remove("ma-c-filter1"):2==y&&(c?c.style.display="":1==u&&b.classList.add("ma-c-filter1"))}function k(a,c,b){g&&(a=g.querySelector("#"+\na))&&(a.classList[c?"add":"remove"]("on"),b&&(a.title=b))}function e(a,c){if(g){var b=g.querySelector("#"+a);if(b)b.classList[c?"remove":"add"]("hide")}}var q,A,g,D,t,v,x,z,u=0,y=0,B=!1;this.setTheme=p;this.selectBtn=k;this.isHost=function(a){return a==q};this.optionsChanged=function(a){a&&(b(),d.f0||(l(!0),f(!0)))};this.pageLoaded=function(b){D&&(clearTimeout(D),D=0);a(b)}}function Ca(){function a(a){b();a&&q.seekTo(l);B&&B.selectBtn("b11",0,"Speed booster/buffering");e=0}function b(){k&&(clearTimeout(k),\nk=null);n=p=0}function d(){f=q.getPlayerState();1!=f?(h=q.getVideoLoadedFraction(),1>h?(m=q.getDuration(),n=parseInt(h*m),n>p&&(p=n,n<m?(q.seekTo(n),e=1,k=setTimeout(d,1E3)):a(1))):a(1)):a(1)}var m,h,p,n,l,f,k,e,q;this.pageLoaded=function(){e&&a();document.documentElement.classList.remove("ma-boost")};this.toggle=function(){e?a():(q||(q=F(1)),q?(b(),f=q.getPlayerState(),1==f&&q.pauseVideo(),l=q.getCurrentTime(),B&&B.selectBtn("b11",1,"Stop booster/buffering"),document.documentElement.classList.add("ma-boost"),\nd()):e=0)}}function ea(){Q&&(Q.uninit(),Q=null);d.mrl&&"/watch"==window.location.pathname&&(Q||(Q=new Da))}function Da(){function a(a){a.preventDefault();a.stopPropagation();clearInterval(k);var g=parseInt(h.getCurrentTime());a=a.pageX-p.getBoundingClientRect().left;var e=p.offsetWidth;f=l.length;a=parseInt(a*A/e);e=d(a);if(-1<e)l.splice(e,2);else{g>a&&(e=g,g=a,a=e);for(e=0;e<f;e+=2){var n=l[e],q=l[e+1],w=!1;n>=g&&q<=a?w=!0:n>=g&&n<=a?(a=q,w=!0):q>=g&&q<=a&&(g=n,w=!0);w&&(l[e]=-1,l[e+1]=-1)}l=l.filter(function(a){return-1<\na});f=l.length;l.push(g,a)}f=l.length;l.sort(function(a,b){return a==b?0:a>b?1:-1});m();0<f&&(k=setInterval(b,1E3))}function b(){for(var a=h.getCurrentTime(),b,d=1,e=f;d<e;d+=2)if(b=l[d],a>b&&a<b+2){h.seekTo(l[d+1<f?d+1:0]);break}}function d(a){for(var b=0;b<f;b+=2)if(a>=l[b]&&a<=l[b+1])return b}function m(){var a=e.width=e.offsetWidth;var b=e.height=e.offsetHeight;q.clearRect(0,0,a,b);if(f){q.lineWidth=8;q.strokeStyle="rgba(0, 250, 0,.5)";for(var d=0,k=1;d<f;d+=2,k+=2){b=l[d]*a/A;var h=l[k]*a/A;\n1>h-b&&(b-=2,h+=2);q.moveTo(b,4);q.lineTo(h,4);q.stroke()}}}var h,p,n,l=[],f,k;if(h=F(1))if((p=document.querySelector(".ytp-progress-bar-container"))&&(n=p.querySelector(".html5-scrubber-button,.ytp-scrubber-button")),null!=n){var e=document.createElement("canvas");e.id="ma-looper";var q=e.getContext("2d");var A=h.getDuration();l=[];e.style.setProperty("z-index",window.getComputedStyle(n,null).getPropertyValue("z-index"),"important");p.insertBefore(e,p.firstElementChild);p.addEventListener("contextmenu",\na,!1)}this.uninit=function(){clearInterval(k);p.removeEventListener("contextmenu",a,!1);e.parentElement.removeChild(e)}}function da(a){var b=document.documentElement.className;b&&(b=b.replace(RegExp("( )*ma-hide[0-9]+","g"),""));if(a&&d.h0)for(a=1;9>a;a++)d["h"+a]&&(b+=" ma-hide"+a);document.documentElement.className=b}function fa(){d.a0&&d.a2?document.documentElement.classList.add("ma-zoom"):document.documentElement.classList.remove("ma-zoom")}function ga(){d.c0&&d.c1?R||(R=new Ea):R&&(R.uninitialize(),\nR=null)}function Ea(){function a(a){"img"==a.target.localName&&23<a.target.width&&(a.target.addEventListener("mouseout",w,!1),b(a));a.preventDefault()}function b(a){m&&(clearTimeout(m),m=0);var b=a.target;a=document.body.querySelectorAll(".g-hovercard");for(var l=0,f=a.length;l<f;++l)a[l].classList.remove("g-hovercard");m=setTimeout(function(){var a="center",e=la(b),f=e[0],l=e[1],g=b.offsetWidth,p=b.offsetHeight,n=0,m,w=window.scrollY;if(e=b.src)d.c0&&d.c1&&(/s\\d+-c-k/.test(e)?(b.hasAttribute("data-magic")||\n(b.src=e=e.replace(/s\\d+-c-k/,"s384-c-k")),n=m=384,a="center"):/sz=[0-9]+/.test(e)?(b.hasAttribute("data-magic")||(b.src=e=e.replace(/sz=[0-9]+/,"sz=384")),n=m=384,a="center"):/=s[0-9]+/.test(e)&&(b.hasAttribute("data-magic")||(b.src=e=e.replace(/=s[0-9]+/,"=s384")),n=m=384,a="center"),b.setAttribute("data-magic",!0)),0!=n&&(f<window.innerWidth/2?(g=f+g+32,f="magic-tip-left"):(g=f-n-32,f="magic-tip-right"),l=l-parseInt((m-p)/2)-5,p=parseInt(m/2),l<w&&(p-=w-l,l=w),0>p&&(p=5),w=g,p+="px",g="url("+e+\n") center "+a+"/100% auto no-repeat",h?(a=h.firstElementChild,e=h.lastElementChild,p&&a.style.setProperty("top",p,"important")):(h=document.createElement("div"),a=document.createElement("div"),e=document.createElement("iframe"),h.className="magic-tip",e.setAttribute("scrolling","no"),e.setAttribute("frameborder","0"),h.appendChild(a),h.appendChild(e),document.body.appendChild(h)),ra(h,["top",l+"px","left",w+"px","height",m+"px"],1),ra(e,["width",n+"px","height",m+"px","background",g,"display","block"],\n1),f?(a.style.setProperty("display",""),a.className=f):a.style.setProperty("display","none","important"),h.style.setProperty("display","block","important"))},500)}function w(a){a.target.removeEventListener("mouseout",w,!1);m&&(clearTimeout(m),m=0);h&&h.style.setProperty("display","none","important")}var m,h;document.body.addEventListener("mouseover",a,!1);this.uninitialize=function(){document.body.removeEventListener("mouseover",a,!1)}}function ta(){function a(a){do if((a=a.parentElement)&&("li"==\na.localName||-1<a.className.search(/yt-lockup-video|video-list-item/)))break;while(a);if(a&&(a=a.querySelector(".yt-thumb-default,.yt-uix-simple-thumb-related,.video-thumb"))){var b,d=a.querySelector("img");if(d){a.img_w=d.width;var h=a.dataset.vid;h||(h=d.getAttribute("src"))&&(h=h.split("/")[4])}11==h.length&&na("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics&id="+h+"&key=AIzaSyC6wA79STIEv1tewqxtewjwbTMP6uOKLF8",null,null,"text",function(d){if(d){try{d=JSON.parse(d)}catch(A){return}if(d&&\nd.items&&0<d.items.length&&(items=d.items,b=items[0].statistics)){d=a.parentElement;var h=document.createElement("div"),l=document.createElement("div");h.className="ma-rts-line";l.className="ma-rts-prg";h.style.width=a.img_w+"px";var f=parseInt(b.likeCount)||0,k=parseInt(b.dislikeCount)||0,k=parseInt(f+k),e=b.commentCount||0,m=k?f/k:0;l.style.setProperty("transform","scaleX(0)","");d.title=(m?(100*m).toFixed(1)+"% of likes from "+k+" votes":"")+(e?"\\n"+e+" comments":"");h.appendChild(l);d.appendChild(h);\nsetTimeout(function(){l.style.setProperty("transform","scaleX("+m+")","")},100)}}})}}document.documentElement.classList.add("ma-rts");document.body.addEventListener("click",function(b){var d=b.target;-1<d.className.search(/view-count|yt-lockup-meta/)&&(b.stopPropagation(),b.preventDefault(),d.rating||(d.rating=!0,a(d)))},!1)}function F(a){var b=document.querySelector("#player video")||document.querySelector("#movie-player video")||document.querySelector(\'video [src^="blob"]\');return a?b.parentElement.parentElement:\nb}function na(a,b,d,m,h,p){var n=new XMLHttpRequest;n.onload=function(a){200==this.status?p(this.response):p()};n.onerror=p;n.onabort=p;n.open(a,b,!0);if(m)for(a=0,b=m.length;a<b;a+=2)n.setRequestHeader(m[a],m[a+1]);h&&(n.responseType=h);try{n.send(d)}catch(l){}}function la(a){if(!a||void 0==a)return[0,0];var b=0,d=0;if(a.offsetParent){do b+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;while(a)}return[b,d]}function ra(a,b,d){if(a){var m=0,h=b.length;for(d=d?"important":null;m<h;m+=2)a.style.setProperty(b[m],\nb[m+1],d)}}function Ba(a){var b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;return b}var oa=Element.prototype.attachShadow||0,xa=Window.prototype.dispatchEvent,qa,ia,pa,sa,O,J,I,M,B,N,H,R,Q,L=0,aa;var d=JSON.parse(\''+
d+'\');var X=d.extURL;var K=0<window.location.search.indexOf("list=");L=d.pause?K?d.plist?1:0:0:1;ma();ka();window.addEventListener("'+a+'b",function(a){try{var b=JSON.parse(a.detail)}catch(w){return}31==b.id?(a=b.tab,b=b.url,"https://www.mycinema.pro/menu.html"==\nb?pa=a:"https://www.mycinema.pro/options.html"==b?qa=a:"https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html"==b&&(ia=a)):(d=b,b="/watch"==window.location.pathname,ma(),B.setTheme(),da(b),M.optionsChanged(b),B.optionsChanged(b),I||(I=new ba),I.optionsChanged(),ka(),ca(),ea(),fa(),ga(),O!=d.hq?(O=d.hq)?V():V(!0):O&&J!=d.hqi&&(J=d.hqi,V()))},!1);try{Object.defineProperty(window,"ytplayer",{get:function(){d&&H&&H.config&&H.config.args&&!sa&&(sa=!0,Z(H.config.args));return H},set:function(a){H=\na},configurable:!0,enumerable:!0})}catch(a){Y()}var Fa=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){Fa.apply(this,arguments);if(0==L){var a=this.parentElement.parentElement;a&&"pauseVideo"in a&&a.pauseVideo()}return!0};window.addEventListener("DOMContentLoaded",function(){window.addEventListener("popstate",T,!1);document.addEventListener("yt-navigate",T,!1);document.addEventListener("spfrequest",T,!1);M=new wa;B=new Aa;U()},!1);document.addEventListener("click",function(a){B&&\nB.isHost(a.target)||(L=1)},!0)})();';
b.appendChild(c);b.removeChild(c);window.addEventListener(a,n,!1)}},configurable:!1});document.documentElement.classList.add("m1");var g,h;for(h in chrome)if("object"==typeof chrome[h]&&(g=Object.getOwnPropertyDescriptor(chrome,h))){f[h]=g.value;g.value={};g.configurable=!1;g.writable=!1;try{Object.defineProperty(chrome,h,g)}catch(d){f[h]=chrome[h]}}setTimeout(l,12E3)})();
